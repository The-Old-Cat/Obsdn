<%*
// –ü–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∑–∞–º–µ—Ç–∫–∏ (–¥–Ω–µ–≤–Ω–∏–∫–∞)
const title = tp.file.title;

// –§–æ—Ä–º–∏—Ä—É–µ–º –ø—É—Ç—å –≤ –∞—Ä—Ö–∏–≤–µ
const archivePath = "04.–ê—Ä—Ö–∏–≤/" + title;

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ –∞—Ä—Ö–∏–≤–µ
const fs = require("fs");
let finalPath = archivePath;

if (fs.existsSync(archivePath + ".md")) {
  const timestamp = Math.floor(Date.now() / 1000);
  finalPath = `04.–ê—Ä—Ö–∏–≤/${title}_${timestamp}`;
}

// –ü–µ—Ä–µ–º–µ—â–∞–µ–º —Ñ–∞–π–ª
await tp.file.move(finalPath);

// –í—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ
tR += `‚úÖ –î–Ω–µ–≤–Ω–∏–∫ "${title}" –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤ [[04.–ê—Ä—Ö–∏–≤]]\n\n`;
%>

# üìñ –î–Ω–µ–≤–Ω–∏–∫ –∑–∞ <% tp.date.now("YYYY-MM-DD", 0, tp.file.title, "YYYY-MM-DD") %> –∑–∞–≤–µ—Ä—à—ë–Ω

- [x] –ó–∞–≤–µ—Ä—à–µ–Ω–æ: <% tp.date.now("YYYY-MM-DD HH:mm") %>
- [x] –ü–µ—Ä–µ–º–µ—â—ë–Ω –≤ –ø–∞–ø–∫—É [[04.–ê—Ä—Ö–∏–≤]]

üìå –ù–æ–≤–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `[[<% finalPath %>]]`

---
> –≠—Ç–æ—Ç —Ñ–∞–π–ª –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–Ω—è.