<%*
// --- ะจะฐะณ 1: ะะฑัะธะต ะฝะฐัััะพะนะบะธ ---
const taskFolder = "02.ะะฐะฑะพัะฐ/ะะฐะดะฐัะธ/";
const archiveFolder = "04.ะััะธะฒ/ะะฐะดะฐัะธ/";

// --- ะจะฐะณ 2: ะะพะปััะฐะตะผ ัะฟะธัะพะบ ะฒัะตั ะทะฐะดะฐั ---
const tasks = await tp.user.listFiles(taskFolder);

// --- ะจะฐะณ 3: ะััะธะฒะธััะตะผ ะบะฐะถะดัั ะทะฐะดะฐัั ---
for (const task of tasks) {
  const fullPath = `${taskFolder}/${task.basename}`;
  const archivePath = `${archiveFolder}/${task.basename}`;

  // ะะฐัะธัะฐ ะพั ะฟะตัะตะทะฐะฟะธัะธ
  let finalPath = archivePath;
  if (fs.existsSync(archivePath + ".md")) {
    const timestamp = Math.floor(Date.now() / 1000);
    finalPath = `${archiveFolder}/${task.basename}_${timestamp}`;
  }

  // ะะตัะตะผะตัะฐะตะผ
  await tp.file.move(finalPath, fullPath);
}

// --- ะจะฐะณ 4: ะะตัะตะผะตัะฐะตะผ ัะฐะผ ัะฐะนะป ะพะฑะทะพัะฐ ---
const reviewTitle = tp.file.title;
const newPath = "04.ะััะธะฒ/ะะฑะทะพัั/" + reviewTitle;

await tp.file.move(newPath);

// --- ะจะฐะณ 5: ะกะพะพะฑัะตะฝะธะต ---
tR += `โ ะะตะดะตะปั ะทะฐะฒะตััะตะฝะฐ. ะัะต ะทะฐะดะฐัะธ ะธะท ะฟะฐะฟะบะธ "${taskFolder}" ะฟะตัะตะผะตัะตะฝั ะฒ "${archiveFolder}".\n`;
tR += `๐ ะะฑะทะพั ะฝะตะดะตะปะธ ะฟะตัะตะผะตััะฝ ะฒ: [[${newPath}]]\n\n`;
%>

# ๐ ะะฑะทะพั ะฝะตะดะตะปะธ โ <% tp.date.now("YYYY-WW") %>

## โ ะะฐะฒะตัััะฝะฝัะต ะดะตะปะฐ
- 

## โ ะะตะทะฐะฒะตัััะฝะฝัะต ะดะตะปะฐ
- 

## ๐ ะัะพะณัะตัั ะฟะพ ัะตะปัะผ
- 

## ๐ ะงัะพ ััะฐะฑะพัะฐะปะพ?
- 

## ๐ ะงัะพ ะฝะต ััะฐะฑะพัะฐะปะพ?
- 

## ๐ ะะปะฐะฝ ะฝะฐ ัะปะตะดััััั ะฝะตะดะตะปั
- 

## ๐ค ะะฐะทะผััะปะตะฝะธั
- 

---
> ะญัะพั ัะฐะนะป ะฑัะป ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะตัะตะผะตััะฝ ะฒ ะฟะฐะฟะบั `04.ะััะธะฒ/ะะฑะทะพัั`.