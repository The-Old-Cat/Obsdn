<%*
// –ü–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∑–∞–º–µ—Ç–∫–∏
const title = tp.file.title;

// –ü—É—Ç—å –∫ –∞—Ä—Ö–∏–≤—É
const archivePath = "04.–ê—Ä—Ö–∏–≤/" + title;

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ –∞—Ä—Ö–∏–≤–µ
const fs = require("fs");
let finalPath = archivePath;

if (fs.existsSync(archivePath + ".md")) {
  // –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É
  const timestamp = Math.floor(Date.now() / 1000);
  finalPath = `04.–ê—Ä—Ö–∏–≤/${title}_${timestamp}`;
}

// –ü–µ—Ä–µ–º–µ—â–∞–µ–º —Ñ–∞–π–ª
await tp.file.move(finalPath);

// –í—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∑–∞–º–µ—Ç–∫—É
tR += `‚úÖ –ó–∞–¥–∞—á–∞ "${title}" –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –≤ [[04.–ê—Ä—Ö–∏–≤]]\n\n`;
%>

# ‚úÖ –ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

- [x] –≠—Ç–∞ –∑–∞–¥–∞—á–∞ –±—ã–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ <% tp.date.now("YYYY-MM-DD") %>
- [x] –ü–µ—Ä–µ–º–µ—â–µ–Ω–∞ –≤ –ø–∞–ø–∫—É [[04.–ê—Ä—Ö–∏–≤]]

üìå –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –µ—ë –ø–æ –ø—É—Ç–∏: `[[<% finalPath %>]]`

---
> –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.