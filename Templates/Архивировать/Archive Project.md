<%*
// –ü–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
const title = tp.file.title;

// –§–æ—Ä–º–∏—Ä—É–µ–º –ø—É—Ç—å –≤ –∞—Ä—Ö–∏–≤–µ
const archivePath = "04.–ê—Ä—Ö–∏–≤/–ü—Ä–æ–µ–∫—Ç—ã/" + title;

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ –∞—Ä—Ö–∏–≤–µ
const fs = require("fs");
let finalPath = archivePath;

if (fs.existsSync(archivePath + ".md")) {
  const timestamp = Math.floor(Date.now() / 1000);
  finalPath = `04.–ê—Ä—Ö–∏–≤/–ü—Ä–æ–µ–∫—Ç—ã/${title}_${timestamp}`;
}

// –ü–µ—Ä–µ–º–µ—â–∞–µ–º —Ñ–∞–π–ª
await tp.file.move(finalPath);

// –í—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ
tR += `‚úÖ –ü—Ä–æ–µ–∫—Ç "${title}" –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤ [[04.–ê—Ä—Ö–∏–≤/–ü—Ä–æ–µ–∫—Ç—ã]]\n\n`;
%>

# üß© –ü—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à—ë–Ω: <% tp.frontmatter.title || "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" %>

- [x] –°—Ç–∞—Ç—É—Å: –ó–∞–≤–µ—Ä—à—ë–Ω
- [x] –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: <% tp.date.now("YYYY-MM-DD") %>
- [x] –ü–µ—Ä–µ–º–µ—â—ë–Ω –≤ –ø–∞–ø–∫—É [[04.–ê—Ä—Ö–∏–≤/–ü—Ä–æ–µ–∫—Ç—ã]]

üìå –ù–æ–≤–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `[[<% finalPath %>]]`

---
> –≠—Ç–æ—Ç —Ñ–∞–π–ª –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞.